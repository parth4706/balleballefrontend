<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Active Theory — Creative Digital Experiences</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="We blend story, art, and technology to build immersive digital experiences." />
  <style>
    :root{
      --bg:#0b0b0f;
      --fg:#eaeaf2;
      --muted:#a7a7b4;
      --accent:#8cf3ff;
      --maxw:1100px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background:var(--bg);
      color:var(--fg);
      font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,"Helvetica Neue",Arial,"Apple Color Emoji","Segoe UI Emoji";
      -webkit-font-smoothing:antialiased;
      text-rendering:optimizeLegibility;
    }
    a{color:var(--fg);text-decoration:none}
    a:hover{color:var(--accent)}
    /* Header */
    .nav{
      position:fixed;top:0;left:0;right:0;z-index:10;
      display:flex;align-items:center;justify-content:space-between;
      padding:16px 24px;background:linear-gradient(to bottom, rgba(11,11,15,0.7), rgba(11,11,15,0));
      backdrop-filter:saturate(120%) blur(6px);
    }
    .brand{font-weight:700;letter-spacing:0.06em}
    .menu{display:flex;gap:20px}
    .menu a{font-weight:600;color:var(--muted)}
    .menu a:hover{color:var(--fg)}
    /* Hero */
    .hero{
      position:relative;height:100vh;overflow:hidden;
      display:flex;align-items:center;justify-content:center;
    }
    canvas.webgl, canvas.fallback{
      position:absolute;inset:0;width:100%;height:100%;display:block;
    }
    .hero__content{
      position:relative;z-index:2;text-align:center;padding:0 16px;max-width:900px;
    }
    .kicker{color:var(--accent);font-weight:600;letter-spacing:0.12em;text-transform:uppercase;font-size:12px}
    h1{
      margin:12px 0 12px;font-size:clamp(32px,7vw,72px);line-height:1.05;
      letter-spacing:-0.01em;
    }
    .sub{color:var(--muted);font-size:clamp(14px,2.5vw,18px);max-width:760px;margin:0 auto 24px}
    .cta{
      display:inline-block;border:1px solid rgba(255,255,255,0.18);
      background:linear-gradient(180deg,rgba(255,255,255,0.07),rgba(255,255,255,0.02));
      padding:12px 18px;border-radius:12px;font-weight:600;backdrop-filter:blur(6px)
    }
    .dots{
      position:absolute;inset:auto 24px 24px auto;z-index:2;color:rgba(255,255,255,0.5);font-size:12px
    }
    /* Sections */
    section{
      padding:80px 24px;max-width:var(--maxw);margin:0 auto;
    }
    .grid{
      display:grid;gap:24px;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
    }
    .card{
      border:1px solid rgba(255,255,255,0.08);
      background:linear-gradient(180deg,rgba(255,255,255,0.04),rgba(255,255,255,0.01));
      border-radius:14px;padding:18px;min-height:160px;
      transition:transform .3s ease, border-color .3s ease;will-change:transform
    }
    .card:hover{transform:translateY(-4px);border-color:rgba(140,243,255,0.5)}
    h2{font-size:clamp(22px,3.5vw,32px);margin:0 0 16px}
    .muted{color:var(--muted)}
    /* Reveal on scroll */
    .reveal{opacity:0;transform:translateY(16px);transition:opacity .6s ease, transform .6s ease}
    .reveal.in{opacity:1;transform:none}
    /* Footer */
    footer{padding:40px 24px;color:var(--muted);text-align:center}
    /* Reduced motion */
    @media (prefers-reduced-motion: reduce){
      .card{transition:none}
      .reveal{transition:none;opacity:1;transform:none}
    }
  </style>
</head>
<body>
  <header class="nav" role="navigation" aria-label="Primary">
    <div class="brand">ACTIVE THEORY</div>
    <nav class="menu">
      <a href="#work">Work</a>
      <a href="#about">About</a>
      <a href="#contact">Contact</a>
    </nav>
  </header>

  <main>
    <section class="hero" aria-label="Hero">
      <canvas class="webgl" aria-hidden="true"></canvas>
      <canvas class="fallback" aria-hidden="true" style="display:none"></canvas>
      <div class="hero__content">
        <div class="kicker">Creative Digital Experiences</div>
        <h1>We blend story, art, and technology.</h1>
        <p class="sub">Immersive, performant, and unforgettable. Built by a team of passionate makers focused on quality and craft.</p>
        <a class="cta" href="#work">Explore our work</a>
      </div>
      <div class="dots">▲ ● ■</div>
    </section>

    <section id="work">
      <h2>Selected work</h2>
      <div class="grid">
        <article class="card reveal">
          <strong>Immersive launch</strong>
          <p class="muted">Realtime 3D microsite with spatial audio and interactive narrative.</p>
        </article>
        <article class="card reveal">
          <strong>Interactive film</strong>
          <p class="muted">Adaptive storytelling synced to user input and dynamic lighting.</p>
        </article>
        <article class="card reveal">
          <strong>Virtual venue</strong>
          <p class="muted">Latency-optimized WebRTC, synchronized shaders, and live CMS hooks.</p>
        </article>
      </div>
    </section>

    <section id="about">
      <h2>About</h2>
      <p class="muted reveal">Founded in 2012. We push the web forward through design, engineering, and relentless polish.</p>
    </section>

    <section id="contact">
      <h2>Contact</h2>
      <p class="muted reveal">Let’s build something immersive together. Email hello@example.com</p>
    </section>
  </main>

  <footer>
    © 2025 Active Theory — Crafted for the modern web
  </footer>

  <!-- Three.js from a CDN -->
  <script src="https://unpkg.com/three@0.160.0/build/three.min.js" defer></script>
  <script>
    (function(){
      const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      const clampDPR = () => Math.min(window.devicePixelRatio || 1, 2);

      // Scroll reveal
      const io = ('IntersectionObserver' in window) ? new IntersectionObserver((entries)=>{
        for(const e of entries){
          if(e.isIntersecting){ e.target.classList.add('in'); io.unobserve(e.target); }
        }
      }, {rootMargin:'-10% 0px -10% 0px'}) : null;
      document.querySelectorAll('.reveal').forEach(el=>{
        if(io) io.observe(el); else el.classList.add('in');
      });

      const webglCanvas = document.querySelector('.webgl');
      const fallbackCanvas = document.querySelector('.fallback');
      let renderer, scene, camera, mesh, uni, rafId = 0, start = performance.now();
      let mouseX = 0, mouseY = 0;

      function initWebGL(){
        if(!window.THREE) return false;
        try{
          renderer = new THREE.WebGLRenderer({ canvas: webglCanvas, antialias:true, powerPreference:'high-performance' });
          renderer.setPixelRatio(clampDPR());
          resize();
          scene = new THREE.Scene();
          camera = new THREE.OrthographicCamera(-1,1,1,-1,0,1);
          uni = {
            u_time: { value: 0 },
            u_res:  { value: new THREE.Vector2(webglCanvas.clientWidth, webglCanvas.clientHeight) },
            u_mouse:{ value: new THREE.Vector2(0.5,0.5) },
            u_motion:{ value: prefersReduced ? 0.0 : 1.0 }
          };
          const geo = new THREE.PlaneGeometry(2,2);
          const mat = new THREE.ShaderMaterial({
            uniforms: uni,
            fragmentShader: `
              precision highp float;
              uniform vec2 u_res;
              uniform float u_time;
              uniform vec2 u_mouse;
              uniform float u_motion;

              // 2D noise (iq)
              float hash(vec2 p){ return fract(sin(dot(p, vec2(127.1,311.7))) * 43758.5453123); }
              float noise(in vec2 p){
                vec2 i = floor(p), f = fract(p);
                float a = hash(i);
                float b = hash(i + vec2(1.0,0.0));
                float c = hash(i + vec2(0.0,1.0));
                float d = hash(i + vec2(1.0,1.0));
                vec2 u = f*f*(3.0-2.0*f);
                return mix(a,b,u.x) + (c - a)*u.y*(1.0 - u.x) + (d - b)*u.x*u.y;
              }

              vec3 palette(float t){
                // Deep cyan to magenta gradient with gentle hue shift
                vec3 a = vec3(0.07, 0.05, 0.10);
                vec3 b = vec3(0.00, 0.35, 0.50);
                vec3 c = vec3(0.80, 0.05, 0.70);
                vec3 d = vec3(0.20, 0.50, 0.80);
                return a + b * cos(6.28318*(c*t + d));
              }

              void main(){
                vec2 uv = gl_FragCoord.xy / u_res.xy;
                vec2 p = (uv - 0.5);
                p.x *= u_res.x / u_res.y;

                // Parallax from mouse
                vec2 m = (u_mouse - 0.5) * 0.4;
                p += m;

                float t = u_time * (0.06 * u_motion + 0.0001);

                // Layered noise fields
                float n = 0.0;
                n += 0.6 * noise(p*2.0 + vec2(t, -t));
                n += 0.3 * noise(p*4.0 + vec2(-t*0.7, t*0.9));
                n += 0.1 * noise(p*8.0 + vec2(t*1.3, t*1.1));
                n = smoothstep(0.2, 0.85, n);

                // Color blend
                vec3 col = mix(vec3(0.02,0.02,0.06), palette(n + t*0.1), 0.85);

                // Vignette
                float d = length(uv - 0.5) * 1.2;
                col *= smoothstep(1.0, 0.2, d);

                gl_FragColor = vec4(col, 1.0);
              }
            `,
          });
          mesh = new THREE.Mesh(geo, mat);
          scene.add(mesh);

          // Mouse tracking
          window.addEventListener('pointermove', (e)=>{
            const rect = webglCanvas.getBoundingClientRect();
            mouseX = (e.clientX - rect.left) / rect.width;
            mouseY = (e.clientY - rect.top) / rect.height;
            if(uni) uni.u_mouse.value.set(mouseX, 1.0 - mouseY);
          }, { passive: true });

          animate();
          return true;
        }catch(e){
          return false;
        }
      }

      function animate(){
        cancelAnimationFrame(rafId);
        rafId = requestAnimationFrame(animate);
        const t = (performance.now() - start) / 1000;
        if(uni){
          uni.u_time.value = t;
          uni.u_res.value.set(webglCanvas.width, webglCanvas.height);
        }
        if(renderer && scene && camera){
          renderer.render(scene, camera);
        }
      }

      function resize(){
        const w = webglCanvas.clientWidth || window.innerWidth;
        const h = webglCanvas.clientHeight || window.innerHeight;
        const dpr = clampDPR();
        if(renderer){
          renderer.setPixelRatio(dpr);
          renderer.setSize(w, h, false);
        }
        webglCanvas.width = Math.floor(w * dpr);
        webglCanvas.height = Math.floor(h * dpr);
      }

      const throttledResize = (()=> {
        let tid = 0;
        return ()=>{ clearTimeout(tid); tid = setTimeout(()=>{ resize(); if(uni){ uni.u_res.value.set(webglCanvas.width, webglCanvas.height); }}, 100); };
      })();
      window.addEventListener('resize', throttledResize);

      // Canvas fallback (no WebGL)
      function initFallback(){
        webglCanvas.style.display = 'none';
        fallbackCanvas.style.display = 'block';
        const c = fallbackCanvas;
        const ctx = c.getContext('2d');
        const dpr = clampDPR();
        function size(){
          const w = c.clientWidth || window.innerWidth;
          const h = c.clientHeight || window.innerHeight;
          c.width = Math.floor(w * dpr);
          c.height = Math.floor(h * dpr);
        }
        size();
        window.addEventListener('resize', ()=>{ size(); }, { passive:true });

        let t0 = performance.now();
        function draw(){
          const t = (performance.now() - t0)/1000;
          const w = c.width, h = c.height;
          const g = ctx.createLinearGradient(0,0,w,h);
          const k = prefersReduced ? 0 : t*0.1;
          const c1 = `hsl(${200 + Math.sin(k)*20} 80% 10%)`;
          const c2 = `hsl(${310 + Math.cos(k*1.3)*20} 90% 18%)`;
          g.addColorStop(0, c1);
          g.addColorStop(1, c2);
          ctx.fillStyle = g;
          ctx.fillRect(0,0,w,h);

          // Dots overlay
          ctx.globalAlpha = 0.06;
          ctx.fillStyle = '#ffffff';
          const step = Math.round(40 * (2/dpr));
          for(let y=0;y<h;y+=step){
            for(let x=0;x<w;x+=step){
              const r = 1.2 + Math.sin((x+y)*0.005 + t)*0.6 * (prefersReduced?0:1);
              ctx.beginPath(); ctx.arc(x,y,r,0,Math.PI*2); ctx.fill();
            }
          }
          ctx.globalAlpha = 1;
          if(!prefersReduced) requestAnimationFrame(draw);
        }
        draw();
      }

      function ready(fn){ document.readyState !== 'loading' ? fn() : document.addEventListener('DOMContentLoaded', fn); }

      ready(()=>{
        // Try WebGL after Three.js loads
        const tryInit = ()=>{
          const ok = initWebGL();
          if(!ok){ initFallback(); }
        };
        if(window.THREE) tryInit();
        else {
          // Wait a bit for the script tag with defer
          let tries = 0;
          const iv = setInterval(()=>{
            tries++;
            if(window.THREE){ clearInterval(iv); tryInit(); }
            else if(tries>40){ clearInterval(iv); initFallback(); }
          }, 50);
        }
      });
    })();
  </script>
</body>
</html>